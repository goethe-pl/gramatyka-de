<!DOCTYPE html>
<html lang="en" dir="ltr" class="sid-softreck">
<head>

    <title>gramatyka .de</title>

    <meta name="copyright" content="Copyright 2019-2018. Softreck. All rights reserved.">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache">

    <!--    <link rel="stylesheet" href="table/form.css">-->
    <link rel="stylesheet" href="fonts/font.css">
<!--    <link rel="stylesheet" href="css/style.css">-->
    <link rel="stylesheet" href="css/default.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <script src="//get.jloads.com/jloads.js?3">
        // Jloads is loading any media and content dynamically
    </script>

    <script>

        var article = new jloads({
            jloads: new Load({
                target: "article",
                replace: 1
            }),
        });


        jl.target({
            "head": [
                "css/fade-in.css",
                "css/index.css",
                "js/clipboard.js",
                "table/form.css?5",
                // "table/form.js?1"
                // "fonts/font.css"
            ],

            "footer": [
                // "html/footer.html?3",
                // "addons/chrome.html",
                "addons/standalone.html"
            ],

        });
    </script>

    <script>


        function updateUrlFromSentenceInput() {
            // document.getElementById('text').value = getSentenceFromUrl();
            // var param = window.location.search;
            var sentence = document.getElementById('text').value;
            if (sentence.length < 2) return false;

            var param = "?";
            param += sentence;
            // window.location.replace(window.location.pathname);
            return window.location.replace(window.location.pathname + param);
        }

        // load sentence from param url, ?*
        function getSentenceFromUrl() {
            var params = window.location.search.slice(1)
                .split('&')
                .reduce(function _reduce(/*Object*/ a, /*String*/ b) {
                    b = b.split('=');
                    a[b[0]] = decodeURIComponent(b[1]);
                    return a;
                }, {});
            var sentence = Object.keys(params)[0];
            sentence = decodeURI(sentence);
            console.log(sentence, params);

            return sentence;
        }


        if (getSentenceFromUrl().length < 2) {
            lastSentence();
        } else {
            // editSentence();
            changeSentence();
        }

        function checkSentence() {
            // article.target({
            //     "article": [
            //         // "table/blank.html",
            //         "table/change.html?1",
            //         // "table/form.css?1",
            //         // "table/form.js?1"
            //     ],
            //     "#matrix": [
            //         "table/matrix.html",
            //         "table/sentence.js"
            //     ]
            // });
            updateUrlFromSentenceInput();
        }

        function changeSentence() {
            article.target({
                "article": [
                    // "table/blank.html",
                    "table/change.html?1",
                    // "table/form.css?1",
                    // "table/form.js?1"
                ],
                "#matrix": [
                    "table/matrix.html"
                ],
                "#languages": [
                    "table/languages.html"
                ],
            });
        }

        function editSentence() {
            article.target({
                "article": [
                    // "table/blank.html",
                    "table/edit.html?1",
                    // "table/edit.js?1",
                    // "table/form.css?1",
                    // "table/form.js?1"
                ],
                "#matrix": [
                    // "table/blank.html",
                    "table/edit.js?1",
                ]
            });
        }

        function lastSentence() {
            article.target({
                "article": [
                    "table/last.html?2",
                    // "table/form.js?2"
                ],
                "#matrix": [
                    "table/blank.html"
                ],
                "#languages": [
                    "table/languages.html"
                ],
            });
        }

        function shareSentence() {
            article.target({
                "article": [
                    "table/share.html?2",
                    // "table/form.js?2"
                ],
                "#matrix": [
                    "table/blank.html"
                ],
                "#languages": [
                    "table/blank.html"
                ],
            });
        }

        function copySentence() {
            CopyToClipboardFromInputElement(document.getElementById("text"));
        }


    </script>

</head>
<body>

<nav></nav>

<header class="page-header">
    <div class="page-header__inner">
        <div id="article"></div>
        <article></article>
        <div id="matrix"></div>
        <hr>
        <div id="languages"></div>
        <hr>

    </div>
</header>

<div id="messages" class="messages"></div>

<footer></footer>


</body>
</html>
